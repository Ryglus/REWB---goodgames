(function() {
    var darkSwitch = document.getElementById("darkSwitch");
    if (darkSwitch) {
      initTheme();
      darkSwitch.addEventListener("click", function(event) {
        resetTheme();
      });
      function initTheme() {
        var darkThemeSelected =
          localStorage.getItem("darkSwitch") !== null &&
          localStorage.getItem("darkSwitch") === "dark";
        darkSwitch.checked = darkThemeSelected;
        darkThemeSelected
          ? document.body.setAttribute("data-theme", "dark")
          : document.body.removeAttribute("data-theme");
          !darkThemeSelected
          ? darkSwitch.setAttribute("aria-pressed","true")
          : darkSwitch.setAttribute("aria-pressed","false");
          !darkThemeSelected
          ? darkSwitch.innerHTML="Dark"
          : darkSwitch.innerHTML="Light";
      }
      function resetTheme() {
        console.log(darkSwitch.getAttribute("aria-pressed"))
        if (darkSwitch.getAttribute("aria-pressed")=="true") {
          document.body.setAttribute("data-theme", "dark");
          localStorage.setItem("darkSwitch", "dark");
          darkSwitch.innerHTML="Light";
          darkSwitch.setAttribute("aria-pressed","false");
        } else {
          document.body.removeAttribute("data-theme");
          localStorage.removeItem("darkSwitch");
          darkSwitch.innerHTML="Dark";
          darkSwitch.setAttribute("aria-pressed","true");
        }
      }
    }
  })();